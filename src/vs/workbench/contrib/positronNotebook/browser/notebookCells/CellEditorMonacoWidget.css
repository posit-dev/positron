/*---------------------------------------------------------------------------------------------
 *  Copyright (C) 2024-2025 Posit Software, PBC. All rights reserved.
 *  Licensed under the Elastic License 2.0. See LICENSE.txt for license information.
 *--------------------------------------------------------------------------------------------*/
.positron-cell-editor-monaco-widget {
	border: var(--vscode-positronNotebook-border);
	border-left: none; /* The selection bar on the left handles the left-side border */
	border-radius: var(--vscode-positronNotebook-cell-radius);
	/* The selection bar handles the left-side border radius */
	border-bottom-left-radius: 0;
	border-top-left-radius: 0;
	padding: 0;
	overflow: hidden; /* Clip content to respect rounded corners */
}

/* Set cell editor background */
.positron-cell-editor-monaco-widget .monaco-editor-background,
.positron-cell-editor-monaco-widget .margin-view-overlays {
	background: var(--vscode-notebook-cellEditorBackground, var(--vscode-editor-background));
}

/* On hover, when NOT selected/editing: change border color to hover color */
.positron-notebook-cell:not(.selected):not(.editing):hover .positron-cell-editor-monaco-widget {
	border-color: var(--vscode-editorWidget-border);
}

/* Show focus outline with default VS Code focus color */
.positron-cell-editor-monaco-widget:focus,
.positron-cell-editor-monaco-widget:focus-within {
	outline: 1px solid var(--vscode-focusBorder);
	outline-offset: -1px;
}

/* When the parent cell has an error, highlight the editor with error color */
.positron-notebook-cell[data-has-error="true"] .positron-cell-editor-monaco-widget:focus,
.positron-notebook-cell[data-has-error="true"] .positron-cell-editor-monaco-widget:focus-within {
	outline-color: var(--vscode-positronNotebook-error-color);
}

/* Ensure the editor container has minimum height for empty cells */
.positron-monaco-editor-container {
	min-height: 1rem;
}

/* Focus target element - hidden by default, visible when focused */
.positron-cell-editor-focus-target {
	height: 0;
	width: 100%;
	overflow: hidden;
}

.positron-cell-editor-focus-target:focus {
	height: auto;
	padding: 4px 8px;
	outline: 1px solid var(--vscode-focusBorder);
	outline-offset: -1px;
	background: var(--vscode-editor-background);
}

/* Show hint text when focused */
.positron-cell-editor-focus-target:focus::after {
	content: 'Press Enter to edit';
	font-size: 12px;
	color: var(--vscode-descriptionForeground);
}
