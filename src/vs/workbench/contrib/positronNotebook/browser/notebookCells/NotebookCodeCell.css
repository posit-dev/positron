/*---------------------------------------------------------------------------------------------
 *  Copyright (C) 2024-2026 Posit Software, PBC. All rights reserved.
 *  Licensed under the Elastic License 2.0. See LICENSE.txt for license information.
 *--------------------------------------------------------------------------------------------*/

.positron-notebook-code-cell-contents {
	--_output-container-offset: 0.5rem;

	.positron-notebook-editor-section {
		position: relative;
	}

	/* Wrapper for outputs section - provides positioning context for the left action menu */
	.positron-notebook-outputs-section {
		position: relative;

		&.no-outputs {
			/* Dont show empty outputs at all */
			display: none;
		}

		&.single-data-explorer .positron-notebook-code-cell-outputs-inner {
			padding: 8px 0 0 0;
			margin-inline: 0;
			overflow: hidden; /* Data explorer handles its own scrolling */
		}

		&.single-data-explorer .inline-data-explorer-container {
			margin: 0 -1px -1px -1px; /* Overlap parent borders on sides/bottom */
			border: 1px solid var(--vscode-panel-border);
			border-top-left-radius: var(--vscode-positronNotebook-cell-radius);
			border-top-right-radius: var(--vscode-positronNotebook-cell-radius);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	.positron-notebook-cell-outputs {
		overflow: hidden;
	}

	.positron-notebook-code-cell-outputs-inner {
		padding-inline: 0.5rem;
		padding-block: 0.5rem;

		/* Avoid overlap with border which is overlaid from another element so
		the layout doesn't automatically avoid it*/
		margin-inline: 1px;
		overflow-x: auto;

		& .notebook-error,
		& .notebook-stderr {
			color: var(--vscode-positronNotebook-error-color);
		}

		/*
		Provide style hints for dataframes rendered as tables,
		similar to styling in the console
		*/
		.dataframe {
			font-size: 12px;
			border: 1px solid var(--vscode-tab-border);
			border-collapse: collapse;

			td, th {
				border: 1px solid var(--vscode-tab-border);
				padding-top: 3px;
				padding-bottom: 3px;
				padding-left: 5px;
				padding-right: 5px;
			}
		}

		/* Button to show hidden outputs styled as a link */
		.show-hidden-output-button {
			font-size: 12px;
			color: var(--vscode-textLink-foreground);
			background: none;
			border: none;
			padding: 0;
		}

		.show-hidden-output-button:hover {
			text-decoration: underline;
		}

		/* override the global .monaco-workbench button focus outline style */
		.show-hidden-output-button:focus,
		.show-hidden-output-button:focus-visible {
			outline-offset: 2px !important;
		}
	}
}
