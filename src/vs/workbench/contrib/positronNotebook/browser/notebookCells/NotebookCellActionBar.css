/*---------------------------------------------------------------------------------------------
 *  Copyright (C) 2024-2025 Posit Software, PBC. All rights reserved.
 *  Licensed under the Elastic License 2.0. See LICENSE.txt for license information.
 *--------------------------------------------------------------------------------------------*/

/* Define common properties for the cell action bar */
.positron-notebooks-cell-action-bar  {
	--_positron-notebooks-cell-action-bar-button-gap: 0.25rem;
}

.positron-notebooks-cell-action-bar {
	position: absolute;
	top: calc(var(--vscode-positronNotebook-action-bar-inset) * -1);
	left: var(--vscode-positronNotebook-action-bar-inset);
	z-index: 10;
	border-width: 1px;
	border-color: var(--vscode-positronNotebook-action-bar-border-color);
	border-style: solid;
	border-radius: var(--vscode-positronNotebook-cell-radius);
	background-color: var(--vscode-positronNotebook-action-bar-background);
	display: flex;
	gap: var(--_positron-notebooks-cell-action-bar-button-gap);

	&.visible {
		visibility: visible;
	}

	&.hidden {
		visibility: hidden;
	}

	.action-button {
		aspect-ratio: 1;
		display: grid;
		place-content: center;
		padding: 3px;
		/* The added outline here is distracting */
		outline: revert;

		/* Update the border radius so it fits cleanly with the inset on the containing box. The 1px
		comes from the border of that box */
		border-radius: calc(var(--vscode-positronNotebook-cell-radius) - 1px);

		.button-icon {
			align-items: center;
			justify-content: center;
			display: flex;
			width: 16px;
			aspect-ratio: 1;
		}

		/* The debug codicon (the icon itself) is misaligned with run above / run below icons by 1 pixel */
		&.codicon-debug-alt-small {
			position: relative;
			top: -1px;
		}

		&.disabled {
			color: var(--vscode-positronActionBar-disabledForeground);
		}
	}

	/* Ensure relative positioning for the separator pseudo-element we are adding below */
	.action-button:first-child {
		position: relative;
	}

	/* Add separator psuedo-element after the first action button (run/stop) */
	.action-button:first-child::after {
		content: '';
		position: absolute;
		right: calc((var(--_positron-notebooks-cell-action-bar-button-gap) * -1) / 2); /* Separator should be centered in between the gap */
		top: 4px;
		bottom: 4px;
		width: 1px;
		background-color: var(--vscode-positronNotebook-action-bar-border-color);
	}
}
