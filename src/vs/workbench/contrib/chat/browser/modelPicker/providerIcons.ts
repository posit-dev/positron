/*---------------------------------------------------------------------------------------------
 *  Copyright (C) 2025 Posit Software, PBC. All rights reserved.
 *  Licensed under the Elastic License 2.0. See LICENSE.txt for license information.
 *--------------------------------------------------------------------------------------------*/

import { ThemeIcon } from '../../../../../base/common/themables.js';

/**
 * Provider icon definitions using SVG content as data URIs.
 * These are used in the model picker dropdown separators.
 */

// SVG content for each provider
const copilotSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M19.245 5.364c1.322 1.36 1.877 3.216 2.11 5.817.622 0 1.2.135 1.592.654l.73.964c.21.278.323.61.323.955v2.62c0 .339-.173.669-.453.868C20.239 19.602 16.157 21.5 12 21.5c-4.6 0-9.205-2.583-11.547-4.258-.28-.2-.452-.53-.453-.868v-2.62c0-.345.113-.679.321-.956l.73-.963c.392-.517.974-.654 1.593-.654l.029-.297c.25-2.446.81-4.213 2.082-5.52 2.461-2.54 5.71-2.851 7.146-2.864h.198c1.436.013 4.685.323 7.146 2.864m-7.244 4.328c-.284 0-.613.016-.962.05-.123.447-.305.85-.57 1.108-1.05 1.023-2.316 1.18-2.994 1.18-.638 0-1.306-.13-1.851-.464-.516.165-1.012.403-1.044.996a66 66 0 0 0-.063 2.884l-.002.48q-.002.844-.013 1.69c.002.326.204.63.51.765 2.482 1.102 4.83 1.657 6.99 1.657 2.156 0 4.504-.555 6.985-1.657a.85.85 0 0 0 .51-.766c.03-1.682.006-3.372-.076-5.053-.031-.596-.528-.83-1.046-.996-.546.333-1.212.464-1.85.464-.677 0-1.942-.157-2.993-1.18-.266-.258-.447-.661-.57-1.108a10 10 0 0 0-.96-.05zm-2.525 4.013c.539 0 .976.426.976.95v1.753c0 .525-.437.95-.976.95a.964.964 0 0 1-.976-.95v-1.752c0-.525.437-.951.976-.951m5 0c.539 0 .976.426.976.95v1.753c0 .525-.437.95-.976.95a.964.964 0 0 1-.976-.95v-1.752c0-.525.437-.951.976-.951M7.635 5.087c-1.05.102-1.935.438-2.385.906-.975 1.037-.765 3.668-.21 4.224.405.394 1.17.657 1.995.657h.09c.649-.013 1.785-.176 2.73-1.11.435-.41.705-1.433.675-2.47-.03-.834-.27-1.52-.63-1.813-.39-.336-1.275-.482-2.265-.394m6.465.394c-.36.292-.6.98-.63 1.813-.03 1.037.24 2.06.675 2.47.968.957 2.136 1.104 2.776 1.11h.044c.825 0 1.59-.263 1.995-.657.555-.556.765-3.187-.21-4.224-.45-.468-1.335-.804-2.385-.906-.99-.088-1.875.058-2.265.394M12 7.615c-.24 0-.525.015-.84.044.03.16.045.336.06.526l-.001.159a3 3 0 0 1-.014.25c.225-.022.425-.027.612-.028h.366c.187 0 .387.006.612.028-.015-.146-.015-.277-.015-.409.015-.19.03-.365.06-.526a9 9 0 0 0-.84-.044" />
</svg>`;

const claudeSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="m4.709 15.955 4.72-2.647.08-.23-.08-.128H9.2l-.79-.048-2.698-.073-2.339-.097-2.266-.122-.571-.121L0 11.784l.055-.352.48-.321.686.06 1.52.103 2.278.158 1.652.097 2.449.255h.389l.055-.157-.134-.098-.103-.097-2.358-1.596-2.552-1.688-1.336-.972-.724-.491-.364-.462-.158-1.008.656-.722.881.06.225.061.893.686 1.908 1.476 2.491 1.833.365.304.145-.103.019-.073-.164-.274-1.355-2.446-1.446-2.49-.644-1.032-.17-.619a3 3 0 0 1-.104-.729L6.283.134 6.696 0l.996.134.42.364.62 1.414 1.002 2.229 1.555 3.03.456.898.243.832.091.255h.158V9.01l.128-1.706.237-2.095.23-2.695.08-.76.376-.91.747-.492.584.28.48.685-.067.444-.286 1.851-.559 2.903-.364 1.942h.212l.243-.242.985-1.306 1.652-2.064.73-.82.85-.904.547-.431h1.033l.76 1.129-.34 1.166-1.064 1.347-.881 1.142-1.264 1.7-.79 1.36.073.11.188-.02 2.856-.606 1.543-.28 1.841-.315.833.388.091.395-.328.807-1.969.486-2.309.462-3.439.813-.042.03.049.061 1.549.146.662.036h1.622l3.02.225.79.522.474.638-.079.485-1.215.62-1.64-.389-3.829-.91-1.312-.329h-.182v.11l1.093 1.068 2.006 1.81 2.509 2.33.127.578-.322.455-.34-.049-2.205-1.657-.851-.747-1.926-1.62h-.128v.17l.444.649 2.345 3.521.122 1.08-.17.353-.608.213-.668-.122-1.374-1.925-1.415-2.167-1.143-1.943-.14.08-.674 7.254-.316.37-.729.28-.607-.461-.322-.747.322-1.476.389-1.924.315-1.53.286-1.9.17-.632-.012-.042-.14.018-1.434 1.967-2.18 2.945-1.726 1.845-.414.164-.717-.37.067-.662.401-.589 2.388-3.036 1.44-1.882.93-1.086-.006-.158h-.055L4.132 18.56l-1.13.146-.487-.456.061-.746.231-.243 1.908-1.312z" fill="#D97757"/>
</svg>`;

const openaiSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M21.036 9.601a4.3 4.3 0 0 0-.582-1.51 4.4 4.4 0 0 0-1.21-1.195 4.5 4.5 0 0 0-1.567-.588 4.2 4.2 0 0 0-.841-1.715 4.36 4.36 0 0 0-1.45-1.265 4.516 4.516 0 0 0-1.839-.493 4.6 4.6 0 0 0-1.88.311A4.54 4.54 0 0 0 10.113 3.86a4.48 4.48 0 0 0-1.684.286 4.4 4.4 0 0 0-1.408.874 4.3 4.3 0 0 0-.9-.158 4.38 4.38 0 0 0-1.723.347 4.45 4.45 0 0 0-1.415.995 4.3 4.3 0 0 0-.928 1.409 4.2 4.2 0 0 0-.343 1.671 4.2 4.2 0 0 0-1.34.648 4.3 4.3 0 0 0-1.112.974 4.4 4.4 0 0 0-.736 1.308 4.3 4.3 0 0 0-.265 1.512 4.3 4.3 0 0 0 .582 1.51 4.4 4.4 0 0 0 1.21 1.195 4.5 4.5 0 0 0 1.567.588 4.2 4.2 0 0 0 .841 1.715 4.36 4.36 0 0 0 1.45 1.265 4.52 4.52 0 0 0 1.839.493 4.6 4.6 0 0 0 1.88-.311c.574-.242 1.086-.596 1.554-1.015.463.195.958.3 1.463.286a4.5 4.5 0 0 0 1.859-.505 4.4 4.4 0 0 0 1.408-.874c.311.064.632.116.952.158a4.38 4.38 0 0 0 1.723-.347 4.45 4.45 0 0 0 1.415-.995 4.3 4.3 0 0 0 .928-1.409 4.2 4.2 0 0 0 .343-1.671c.49-.163.956-.403 1.34-.648a4.3 4.3 0 0 0 1.112-.974 4.4 4.4 0 0 0 .736-1.308A4.3 4.3 0 0 0 24 11.164a4.3 4.3 0 0 0-.341-1.563" fill="currentColor"/>
</svg>`;

const geminiSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M12 3C7.03 3 3 7.03 3 12s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zm0-12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" fill="#1C7DFF"/>
</svg>`;

const bedrockSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bedrockGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#007EDB;" />
      <stop offset="100%" style="stop-color:#229546;" />
    </linearGradient>
  </defs>
  <path d="M12 2L4.5 6v12l7.5 4 7.5-4V6L12 2zm5 13.17l-5 2.67-5-2.67V8.83l5-2.67 5 2.67v6.34z" fill="url(#bedrockGradient)"/>
</svg>`;

export interface ProviderIcon {
	themeIcon: ThemeIcon;
	svgContent?: string;
}

/**
 * Create a provider icon with both ThemeIcon and raw SVG content
 */
function createSvgIcon(svg: string): ProviderIcon {
	const base64 = btoa(svg);
	const dataUri = `data:image/svg+xml;base64,${base64}`;
	return {
		themeIcon: ThemeIcon.fromId(dataUri),
		svgContent: svg
	};
}

/**
 * Get the icon for a provider based on its vendor ID.
 */
export function getProviderIcon(vendor: string): ProviderIcon | undefined {
	switch (vendor) {
		case 'copilot':
			return createSvgIcon(copilotSvg);
		case 'anthropic':
		case 'anthropic-api':
			return createSvgIcon(claudeSvg);
		case 'openai':
		case 'openai-api':
			return createSvgIcon(openaiSvg);
		case 'google':
			return createSvgIcon(geminiSvg);
		case 'amazon-bedrock':
			return createSvgIcon(bedrockSvg);
		case 'posit-ai':
			return {
				themeIcon: ThemeIcon.fromId('positron-assistant')
			};
		default:
			return undefined;
	}
}
